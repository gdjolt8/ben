<html>
  <head>
    <title>Accounts</title>
  </head>
  <body>
    <h1>Moderator Stuff</h1>
    <form id="formreg" method="post">
      <fieldset><legend>Ban User</legend>
    <dl>
      <dt><label for="username">Username:</label></dt>
      <dd><input name="username" type="text" id="username" maxlength="30" value="" size="30"</dd>
    </dl>
    <dl>
      <button type="submit" id="button1" name="register" value="register" style="height:50px; width:100px; font-size:1rem;">Ban</button>
    </dl>
    <dl>
      <p id="para"></p>
    </dl>
    </form>

    
        <script> 
          const form = document.getElementById('formreg')
          form.addEventListener('submit', banUser)

          async function banUser(event) {
             event.preventDefault()
             const user2 = document.getElementById('username').value
             const user1 = "abue"

             const result = await fetch('/api/banuser', {
               method: 'POST',
               headers: {
                 'Content-Type': 'application/json'
               },
               body: JSON.stringify({
                 user1,
                 user2
               })
             }).then((res) => res.json())

             if (result.status === 'ok') {
                // everythign went fine
                alert('Success')
            } else {
                alert(result.error)
            }

             
          }
        </script>
  </body>
</html>